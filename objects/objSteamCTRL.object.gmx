<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sprGUIsteam</spriteName>
  <solid>0</solid>
  <visible>0</visible>
  <depth>0</depth>
  <persistent>-1</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Turn on Steam functions
screenCheck = 0;
if os_type == os_windows || os_type == os_macosx {
    global.steam_api = false;
    alarm[1] = 15;
    }
// Or nuke if not PC/Mac
if os_type != os_windows &amp;&amp; os_type != os_macosx {
    instance_destroy();
    }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="11">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// 011 - Like it never even happened

if !steam_get_achievement("ach_never_happened") steam_set_achievement("ach_never_happened");  
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// 010 - Slipping away

if !steam_get_achievement("ach_slipping_away") steam_set_achievement("ach_slipping_away"); 
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="9">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// 009 - A warm place

if !steam_get_achievement("ach_a_warm_place") steam_set_achievement("ach_a_warm_place"); 
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="8">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// 008 - Eraser

if !steam_get_achievement("ach_eraser") steam_set_achievement("ach_eraser"); 
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Save screenshots
if screenCheck == 1 {
    if file_exists(global.ssfile) {
        // Increase number...
        global.scrn_num += 1;
        var _s = "00" + string(global.scrn_num);
        _s = string_copy(_s,string_length(_s)-2,3);
        global.ssfile = ("Home_" + string(_s) + ".png");
        // ... and try again
        alarm[2] = 1;
        }
    if !file_exists(global.ssfile) {
        // Save file
        screen_save(global.ssfile);
        steam_send_screenshot(global.ssfile, window_get_width(), window_get_height());
        // Move up numbers
        global.scrn_num += 1;
        var _s = "00" + string(global.scrn_num);
        _s = string_copy(_s,string_length(_s)-2,3)
        global.ssfile = ("Home_" + string(_s) + ".png");
        screenCheck = 0;
        }
    }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Initialize Steam
if steam_initialised() {
    if steam_stats_ready() &amp;&amp; steam_is_overlay_enabled() {
        global.steam_api = true;
        show_debug_message("Steam is a go");
        var _s = "00" + string(global.scrn_num);
        _s = string_copy(_s,string_length(_s)-2,3)
        show_debug_message(_s)
        globalvar ssfile;
        global.ssfile = ("Home_" + string(_s) + ".png");
        }
    if !steam_stats_ready() {
        alarm[1] = 8;
        show_debug_message("Steam stats not ready; trying again");
        }
    if !steam_is_overlay_enabled() {
        alarm[1] = 8;
        show_debug_message("Steam overlay not ready; trying again");
        }
    }
if !steam_initialised() {
    alarm[1] = 8;
    //show_debug_message("Steam not up; trying again");
    }
// Start real-time checks
alarm[0] = 30;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Unlock achievements in real time

// Store trophies
if room == storeMid04 {
    // 005 - A close call
    if instance_exists(objGunCabinet) {
        if (objGunCabinet.image_index == 4) || (objGunCabinet.image_index == 5) {
            if !steam_get_achievement("ach_close_call") steam_set_achievement("ach_close_call");
            }
        }
    }
// 003 - A terrible tragedy
if (global.forestGrave == 1) &amp;&amp; (global.forestTent == 1) &amp;&amp; (global.forestNotes == 1) {
    if !steam_get_achievement("ach_terrible_tragedy") steam_set_achievement("ach_terrible_tragedy");
    }

// 001 - Stolen identity 
if (global.wtWallet == 1) &amp;&amp; (global.forestCard == 1) &amp;&amp; (global.storeLicense == 1) {
    if instance_exists(objPhotoUs) {
        if (objPhotoUs.image_index == 2) || (objPhotoUs.image_index == 3) {
            if !steam_get_achievement("ach_stolen_identity") steam_set_achievement("ach_stolen_identity");
            }
        }
    }
// 000 - Cause and effect
if room == houseKitchen {
    if global.mouseKitchen == 1 {
        if !steam_get_achievement("ach_cause_and_effect") steam_set_achievement("ach_cause_and_effect");
        }
    }

// 002 - Escape route
if (global.sewerReceipt == 1) &amp;&amp; (global.houseShelf == 1) {
    if instance_exists(objBoothWindow) {
        if (objBoothWindow.image_index == 2) || (objBoothWindow.image_index == 3) {
            if !steam_get_achievement("ach_escape_route") steam_set_achievement("ach_escape_route");
            }
        }
    }
        
show_debug_message("Checked cheevos...");        
// Reset
alarm[0] = 15;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Screenshots, etc.


// Steam screenshot
if steam_initialised() {
    if global.steam_api == true {
        if steam_is_screenshot_requested() {
            if screenCheck == 0 {
                alarm[2] = 1;
                screenCheck = 1;
                }
            }
        }
    } 
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Unlock achievements at room start

if global.steam_api == true {

    // Force alarm checks
    alarm[1] = 2;
    
    // Alt Home trophies
    if room == altMid201 {
       // 006 - I like to remember things my own way
       if (global.rachelReal == 0) {            
            if !steam_get_achievement("ach_remember_my_own_way") steam_set_achievement("ach_remember_my_own_way");
            }
       // 007 - Grim discovery
       if (global.rachelReal == 1) {            
            if !steam_get_achievement("ach_grim_discovery") steam_set_achievement("ach_grim_discovery");
            }
       }        
       
    // End Credits trophies
    if room == endCredits {
        // 011 - Like it never even happened
        if (global.noItems == 1) {
            alarm[11] = 4; // Check
            }
        // 008 - Eraser
        if (global.whichEnd == storyGun1) {
            alarm[8] = 3; 
            }
        // 009 - A warm place
        if (global.whichEnd == storyKnife1) {
            alarm[9] = 2;  
            }
        // 010 - Slipping away
        if (global.whichEnd == storyExit1) {
            alarm[10] = 1;
            }
        }
        
    // 004 - Secret documents
    if room == safeLetter {
        if (global.altSafe == 1) {
            if !steam_get_achievement("ach_secret_documents") steam_set_achievement("ach_secret_documents");
            }
        }
    show_debug_message("Checked room-start cheevos...");
    }

</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>0,0</point>
    <point>8,8</point>
  </PhysicsShapePoints>
</object>
